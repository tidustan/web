/*!
 * jquery.offcanvas.js v3.0.1 - 2015-05-06
 * Copyright 2014 Christoph Heich | http://cheich.github.io/jquery.offcanvas/
 * Released under the MIT license | https://github.com/cheich/jquery.offcanvas/blob/master/LINCENSE.md
 */
;$(function(b){var a=0;b.fn.offcanvas=function(e){var g=this;var c={};var h={};var n=function(p){var q=++a;k(p);if(c.cloneElement){g=g.clone(true);this.data("offcanvas-linked-id",q)}h.elem=b(c.mainCanvas);if(h.elem.length<1){b.error("Main canvas element not found")}else{if(h.elem.get(0).tagName.toLowerCase()=="body"){b.error('Main canvas should not be "body"')}}g.addClass("offcanvas-element").addClass("offcanvas-"+c.position).addClass("offcanvas-"+c.mode).css(c.css);g.data("offcanvas-id",q);var o={};if(typeof h.elem.data("offcanvas-elements")!=="undefined"){o=h.elem.data("offcanvas-elements")}else{h.elem.addClass("offcanvas-main").css(c.mainCanvasCss).wrap('<div class="offcanvas-viewport" />')}g.data("offcanvas-main",h);o[q]=g;h.elem.data("offcanvas-elements",o);if(c.injectPosition=="after"){g.insertAfter(h.elem)}else{g.insertBefore(h.elem)}if(h.elem.children(".offcanvas-overlay").length==0){h.elem.prepend('<div class="offcanvas-overlay" />')}if(c.mainCanvasClick){h.elem.children(".offcanvas-overlay").on("click",function(r){g.offcanvas("hideAll");c.onMainCanvasClick(r,g)})}if(window.location.hash){window.location.hash=window.location.hash}f.refresh()};var k=function(p){var o=b.extend(true,{},b.fn.offcanvas.defaults,p);o.position.toLowerCase();if(b.inArray(o.position,["top","right","bottom","left"])==-1){o.position="left"}o.mode=o.mode.toLowerCase();if(b.inArray(o.mode,["push","cover","base"])==-1){o.mode="push"}o.injectPosition.toLowerCase();if(b.inArray(o.injectPosition,["before","after"])==-1){o.injectPosition="before"}var r=["duration","easing","queue","specialEasing","step","progress","complete","start","done","fail","always"];elemOpts={};elemProps={};b.each(o.animate,function(t,u){if(b.inArray(t,r)!=-1){elemOpts[t]=u}else{elemProps[t]=u}});delete o.animate;o.animate={opts:elemOpts,props:elemProps};mainElemOpts={};mainElemProps={};b.each(o.mainCanvasAnimate,function(t,u){if(b.inArray(t,r)!=-1){mainElemOpts[t]=u}else{mainElemProps[t]=u}});delete o.mainCanvasAnimate;o.mainCanvasAnimate={opts:mainElemOpts,props:mainElemProps};o.mainCanvasAnimate.opts=b.extend(true,{},o.animate.opts,o.mainCanvasAnimate.opts);var q=b.Callbacks();q.add(function(){h.elem.state="animated"});q.add(d);if(typeof o.mainCanvasAnimate.opts.complete==="function"){q.add(o.mainCanvasAnimate.opts.complete)}else{if(typeof o.animate.opts.complete==="function"){q.add(o.animate.opts.complete)}}o.mainCanvasAnimate.opts.complete=function(){if(h.elem.state=="progress"){q.fire(g)}};var s=b.Callbacks();s.add(function(){g.state="animated"});s.add(d);if(typeof o.animate.opts.complete==="function"){s.add(o.animate.opts.complete)}o.animate.opts.complete=function(){s.fire(g)};g.data("offcanvas-options",o);c=o};var m=function(q,p,o){if(c.animate!==false&&typeof b.fn.transition!=="undefined"&&b.support.transition){q.transition(p,o)}else{if(c.animate!==false&&c.jsFallback){q.animate(p,o)}else{q.css(p)}}};var i=function(){var o={};if(b.inArray(c.mode,["cover","push"])!=-1){if(b.inArray(c.position,["top","bottom"])!=-1){o[c.position]="-"+c.css.height}else{o[c.position]="-"+c.css.width}}return o};var l=function(){return{top:"",left:""}};var d=function(){if(g.state=="animated"&&h.elem.state=="animated"){if(g.data("offcanvas-state")=="pre-inactive"){g.data("offcanvas-state","inactive");h.elem.removeClass("offcanvas-main-inactive");g.addClass("offcanvas-inactive");c.onHideAfter(g)}else{if(g.data("offcanvas-state")=="pre-active"){g.data("offcanvas-state","active");c.onShowAfter(g)}}}};var f={show:function(){if(g.data("offcanvas-state")=="inactive"){c.onShowBefore(g);g.data("offcanvas-state","pre-active");g.state="progress";h.elem.state="progress";h.elem.addClass("offcanvas-main-inactive");g.removeClass("offcanvas-inactive");var p={};p[c.position]=0;var o={};switch(c.mode){case"push":switch(c.position){case"top":o.top=c.css.height;break;case"right":o.left="-"+c.css.width;break;case"bottom":o.top="-"+c.css.height;break;case"left":default:o.left=c.css.width;break}break;case"base":switch(c.position){case"top":o.top=c.css.height;break;case"right":o.left="-"+c.css.width;break;case"bottom":o.top="-"+c.css.height;break;case"left":default:o.left=c.css.width;break}break;case"cover":default:break}}b.extend(true,p,c.animate.props);m(g,p,c.animate.opts);b.extend(true,o,c.mainCanvasAnimate.props);m(h.elem,o,c.mainCanvasAnimate.opts);m(h.elem.children(".offcanvas-overlay"),{opacity:1},c.mainCanvasAnimate.opts)},hide:function(){if(g.data("offcanvas-state")=="active"){c.onHideBefore(g);g.data("offcanvas-state","pre-inactive");g.state="progress";h.elem.state="progress";m(g,i(),c.animate.opts);m(h.elem,l(),c.mainCanvasAnimate.opts);m(h.elem.children(".offcanvas-overlay"),{opacity:0},c.mainCanvasAnimate.opts)}},hideAll:function(){b.each(b(c.mainCanvas).data("offcanvas-elements"),function(o,p){p.offcanvas("hide")})},toggle:function(){if(g.data("offcanvas-state")=="inactive"){f.show()}else{if(g.data("offcanvas-state")=="active"){f.hide()}}},state:function(){return g.data("offcanvas-state")},refresh:function(){g.data("offcanvas-state","inactive");h.elem.css(l());h.elem.removeClass("offcanvas-main-inactive");g.css(i());g.addClass("offcanvas-inactive");h.elem.children(".offcanvas-overlay").css("opacity",0)},destroy:function(){g.unwrap();g.removeClass("offcanvas-element offcanvas-push offcanvas-cover offcanvas-base");g.removeClass("offcanvas-top offcanvas-right offcanvas-bottom offcanvas-left");g.css({top:"",right:"",bottom:"",left:"",width:"",height:""});g.removeData("offcanvas-linked-id offcanvas-options offcanvas-id offcanvas-main offcanvas-state");h.elem.removeClass("offcanvas-main offcanvas-inactive");h.elem.css({top:"",right:"",bottom:"",left:"",width:"",height:""});h.elem.removeData("offcanvas-elements");h.elem.children(".offcanvas-overlay").remove()}};if(typeof g.data("offcanvas-linked-id")!=="undefined"){var j=g.data("offcanvas-linked-id");g.each(function(o,p){p=b(p);if(typeof p.data("offcanvas-id")!=="undefined"&&p.data("offcanvas-id")==j){g=p;return}})}if(typeof g.data("offcanvas-main")!=="undefined"){h=g.data("offcanvas-main")}if(typeof g.data("offcanvas-options")!=="undefined"){c=g.data("offcanvas-options")}if(f[e]){if(typeof g.data("offcanvas-id")!=="undefined"){f[e].apply(this,Array.prototype.slice.call(arguments,1))}else{b.error("Element was not initialized with jQuery Offcanvas")}}else{if(typeof e==="object"||!e){n.apply(this,arguments)}else{b.error('Method "'+e+'" does not exist in jQuery Offcanvas')}}return g};b.fn.offcanvas.defaults={position:"left",mode:"push",injectPosition:"before",cloneElement:false,css:{width:"100%",height:"100%"},jsFallback:true,animate:{},mainCanvas:"#page",mainCanvasClick:true,mainCanvasAnimate:{},mainCanvasCss:{},onShowBefore:function(){},onShowAfter:function(){},onHideBefore:function(){},onHideAfter:function(){},onMainCanvasClick:function(){}}}(jQuery));